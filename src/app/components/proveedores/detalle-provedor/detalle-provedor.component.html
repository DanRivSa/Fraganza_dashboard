<app-navbar></app-navbar>
<div *ngIf="holderDeEscala[0] != null"> <!--SOLO SI TIENE ESCALA INICIAL (IMPLICA QUE TIENE FORMULA) MUESTRA-->
    <header class="bg-dark text-white">
        <div class="container text-center">
          
          <h3 class=" display-4">Evaluar</h3>
          <hr>
          <h3>{{nombre}}</h3>
          <br>
        </div>
    </header>
    
    <div class= "container">
        <div class="card border-0 shadow">
            <h3 class=" display-4 text-center">Criterios de Ev. Inicial</h3>
            <hr>
            <div class="row">
                <h5>Criterio 1: Evaluación Geográfica</h5>
                <div class="col-md-6">
                  <input type="number" class="form-control" placeholder=" Min" name="eg" #criterio1="ngModel" [(ngModel)]="nota1">
                </div>
            </div>
            <br>
            <div class="row">
                <h5>Criterio 2: Alternativa de pago  </h5>
                <div class="col-md-6">
                  <input type="number" class="form-control" placeholder=" Min" name="ap" #criterio2="ngModel" [(ngModel)]="nota2">
                </div>
            </div>
            <br>
            <div class="row ">
                <h5> Criterio 3: Alternativa de envio   </h5>
                <div class="col-md-6">
                  <input type="number" class="form-control" placeholder=" Min" name="ae" #criterio3="ngModel" [(ngModel)]="nota3">
                </div>
            </div>
    
            <div class="form-group text-center">
                <button class="btnContactSubmit" (click)="Calificar()" data-toggle="modal" data-target="#resultado">Calificar</button>
                
            </div>
    
    
        </div>
    
        <br>
        <br>
        <br>
        <br>
    </div>
    
    <div class="row">
        <div class="col-lg-6">
            <app-alternativas-envios></app-alternativas-envios>
            <br>
            <br>
            
        </div>
        <div class="col-lg-6">
            <app-catalogo></app-catalogo>
            <br>
            <br>
            <app-alternativas-pago></app-alternativas-pago>
            
        </div>
    </div>
    
    <!--TARJETAS DE INFORMACION-->
      <!-- NO APRUEBA -->
      <div class="modal fade" id="resultado" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" *ngIf="aprobado == false">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header text-white bg-danger">
              <h5 class="modal-title" id="exampleModalLongTitle">REPROBADO</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body bg-dark">
              <div class="container text-center">
                  <div class="container text-center text-white">
                    <h4 class="h4">Calificacion: {{CalificacionFinal}}</h4>
                  </div>
                  <hr>
                <p class="text-white text-center">proveedor no apto para contratar</p>
              </div>
            </div>
            <div class="modal-footer bg-dark">
              <div>
                <button type="button" class="btn btn-danger" data-dismiss="modal" routerLink="/i_test_provider">Regresar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    
       <!-- APRUEBA -->
       <div class="modal fade" id="resultado" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" *ngIf="aprobado == true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header text-white bg-success">
              <h5 class="modal-title" id="exampleModalLongTitle">APROBADO</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body bg-dark">
              <div class="container text-center">
                  <div class="container text-center text-white">
                    <h4 class="h4">Calificacion: {{CalificacionFinal}}</h4>
                  </div>
                  <hr>
                <p class="text-white text-center">proveedor apto para contratar</p>
              </div>
            </div>
            <div class="modal-footer bg-dark">
              <div>
                  <button type="button" class="btn btn-primary" data-dismiss="modal" [routerLink]="['/crear/contrato/con_proveedor',id]">Contratar</button> <!--SE LE PASA ID DEL PRODUCTOR-->
              </div>
              <div>
                <button type="button" class="btn btn-danger" data-dismiss="modal" routerLink="/i_test_provider">Cancelar Operacion</button>
              </div>
            </div>
          </div>
        </div>
      </div>
</div>

<div class="text-center" *ngIf="holderDeEscala[0] == null">
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>ERROR</strong> Usuario no posee fomula de evaluacion inicial.
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
</div>